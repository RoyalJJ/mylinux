
<!-- saved from url=(0085)http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <title>EXERCISE</title> 
   
  <script type="text/javascript" src="./01EXERCISE_files/jquery.min.js">
    </script> 
  <script type="text/javascript" src="./01EXERCISE_files/jquery.snippet.js">
    </script> 
  <script type="text/javascript" src="./01EXERCISE_files/main.js">
    </script> 
  <link type="text/css" href="./01EXERCISE_files/index.css" rel="Stylesheet"> 
  <link type="text/css" href="./01EXERCISE_files/jquery.snippet.css" rel="Stylesheet"> 
 </head> 
 <body> 
  <div class="source_style_exercise"> 
   <div> 
    <h3>1 如何执行一个未设置x权限的Shell脚本？</h3> 
    <p class="answerTitle">参考答案</p> 
    <p>以下三种方式任选其一：</p> 
    <ul class="list"> 
     <li>sh 脚本文件路径 </li> 
     <li>source 脚本文件路径 </li> 
     <li>. 脚本文件路径 </li> 
    </ul> 
   </div> 
   <div> 
    <h3>2 自定义Shell变量时，变量名有什么规则？</h3> 
    <p class="answerTitle">参考答案</p> 
    <ul class="list"> 
     <li>可以包括数字、字母、下划线，不能以数字开头 </li> 
     <li>变量名区分大小写 </li> 
     <li>赋值时等号两边不要有空格 </li> 
     <li>尽量不要使用关键字和特殊字符 </li> 
     <li>给同一个变量多次赋值时，最后一次的赋值生效 </li> 
    </ul> 
   </div> 
   <div> 
    <h3>3 编写一个Shell脚本程序，用来报告当前用户的环境信息。</h3> 
    <p>新建脚本文件report.sh，执行后能够输出当前的主机名、登录用户名、所在的文件夹路径。效果如下所示：</p> 
    <p>当用户root执行的时候：</p> 
    <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style=""><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@svr5 <span class="sh_symbol">~]</span># <span class="sh_regexp">/opt/</span>report<span class="sh_symbol">.</span>sh </li><li>当前的主机名是：svr5<span class="sh_symbol">.</span>tarena<span class="sh_symbol">.</span>com</li><li>登录用户是：root</li><li>当前位于 <span class="sh_symbol">/</span>root 文件夹下</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@svr5 ~]# /opt/report.sh 
当前的主机名是：svr5.tarena.com
登录用户是：root
当前位于 /root 文件夹下
</pre></div></div> 
    <p>当普通用户mike执行的时候：</p> 
    <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style=""><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>mike@svr5 <span class="sh_symbol">~]</span><span class="sh_normal">$ </span><span class="sh_symbol">/</span><span class="sh_normal">opt</span><span class="sh_symbol">/</span>report<span class="sh_symbol">.</span>sh </li><li>当前的主机名是：svr5<span class="sh_symbol">.</span>tarena<span class="sh_symbol">.</span>com</li><li>登录用户是：mike</li><li>当前位于 <span class="sh_regexp">/home/mi</span>ke 文件夹下</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[mike@svr5 ~]$ /opt/report.sh 
当前的主机名是：svr5.tarena.com
登录用户是：mike
当前位于 /home/mike 文件夹下
</pre></div></div> 
    <p class="answerTitle">参考答案</p> 
    <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style=""><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@svr5 <span class="sh_symbol">~]</span># <span class="sh_normal">cat </span><span class="sh_symbol">/</span><span class="sh_normal">opt</span><span class="sh_symbol">/</span>report<span class="sh_symbol">.</span>sh</li><li>#<span class="sh_symbol">!</span><span class="sh_regexp">/bin/</span>bash</li><li>echo <span class="sh_string">"当前的主机名是：$HOSTNAME"</span></li><li>echo <span class="sh_string">"登录用户是：$LOGNAME"</span></li><li>echo <span class="sh_string">"当前位于 $PWD 文件夹下"</span></li><li><span class="sh_symbol">[</span>root@svr5 <span class="sh_symbol">~]</span># chmod <span class="sh_symbol">+</span><span class="sh_normal">x </span><span class="sh_symbol">/</span><span class="sh_normal">opt</span><span class="sh_symbol">/</span>report<span class="sh_symbol">.</span>sh</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@svr5 ~]# cat /opt/report.sh
#!/bin/bash
echo "当前的主机名是：$HOSTNAME"
echo "登录用户是：$LOGNAME"
echo "当前位于 $PWD 文件夹下"
[root@svr5 ~]# chmod +x /opt/report.sh
</pre></div></div> 
   </div> 
   <div> 
    <h3>4 简述预定义变量$$、$?、$0、$#、$*、$!的作用。</h3> 
    <p class="answerTitle">参考答案</p> 
    <ul class="list"> 
     <li>$$ 保存当前运行进程的（PID）号 </li> 
     <li>$? 保存命令执行结果的（返回状态） </li> 
     <li>$0 保存当前运行的（进程名）或（脚本名） </li> 
     <li>$# 保存位置变量的（个数） </li> 
     <li>$* 保存所有位置变量的（值） </li> 
     <li>$! 保存后台（最后一个进程）的PID号 </li> 
    </ul> 
   </div> 
   <div> 
    <h3>5 编写一个Shell脚本程序，能够快速添加用户账号。</h3> 
    <p>新建脚本文件quick_uad.sh，执行时指定新用户名作为参数，能够快速添加对应的用户账号，并将用户的登录密码设为123456。效果如下所示：</p> 
    <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style=""><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@svr5 <span class="sh_symbol">~]</span># <span class="sh_symbol">.</span><span class="sh_regexp">/quick_uad.sh xixi  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/</span><span class="sh_symbol">/</span>添加用户xixi</li><li>更改用户 xixi 的密码 。</li><li>passwd： 所有的身份验证令牌已经成功更新。</li><li><span class="sh_symbol">[</span>root@svr5 <span class="sh_symbol">~]</span># id xixi</li><li>uid<span class="sh_symbol">=</span><span class="sh_number">525</span><span class="sh_symbol">(</span>xixi<span class="sh_symbol">)</span> gid<span class="sh_symbol">=</span><span class="sh_number">525</span><span class="sh_symbol">(</span>xixi<span class="sh_symbol">)</span> 组<span class="sh_symbol">=</span><span class="sh_number">525</span><span class="sh_symbol">(</span>xixi<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">[</span>root@svr5 <span class="sh_symbol">~]</span># <span class="sh_symbol">.</span><span class="sh_regexp">/quick_uad.sh haha  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/</span><span class="sh_symbol">/</span>添加用户haha</li><li>更改用户 haha 的密码 。</li><li>passwd： 所有的身份验证令牌已经成功更新。</li><li><span class="sh_symbol">[</span>root@svr5 <span class="sh_symbol">~]</span># id haha</li><li>uid<span class="sh_symbol">=</span><span class="sh_number">526</span><span class="sh_symbol">(</span>haha<span class="sh_symbol">)</span> gid<span class="sh_symbol">=</span><span class="sh_number">526</span><span class="sh_symbol">(</span>haha<span class="sh_symbol">)</span> 组<span class="sh_symbol">=</span><span class="sh_number">526</span><span class="sh_symbol">(</span>haha<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@svr5 ~]# ./quick_uad.sh xixi  					//添加用户xixi
更改用户 xixi 的密码 。
passwd： 所有的身份验证令牌已经成功更新。
[root@svr5 ~]# id xixi
uid=525(xixi) gid=525(xixi) 组=525(xixi)

[root@svr5 ~]# ./quick_uad.sh haha  					//添加用户haha
更改用户 haha 的密码 。
passwd： 所有的身份验证令牌已经成功更新。
[root@svr5 ~]# id haha
uid=526(haha) gid=526(haha) 组=526(haha)
</pre></div></div> 
    <p class="answerTitle">参考答案</p> 
    <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style=""><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/VIP/NSDVN201805/SHELL/DAY01/EXERCISE/01/index_answer.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@svr5 <span class="sh_symbol">~]</span># vim quick_uad<span class="sh_symbol">.</span>sh      </li><li>#<span class="sh_symbol">!</span><span class="sh_regexp">/bin/</span>bash</li><li>useradd $<span class="sh_number">1</span></li><li>echo <span class="sh_number">1234567</span> <span class="sh_symbol">|</span> passwd <span class="sh_symbol">--</span>stdin $<span class="sh_number">1</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">[</span>root@svr5 <span class="sh_symbol">~]</span># chmod <span class="sh_symbol">+</span>x quick_uad<span class="sh_symbol">.</span>sh</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@svr5 ~]# vim quick_uad.sh      
#!/bin/bash
useradd $1
echo 1234567 | passwd --stdin $1

[root@svr5 ~]# chmod +x quick_uad.sh
</pre></div></div> 
   </div> 
   <div> 
    <h3>6 简述三种定界符在变量赋值操作中的特点。</h3> 
    <p class="answerTitle">参考答案</p> 
    <ul class="list"> 
     <li>双引号 " "：允许扩展，以 $ 引用其他变量 </li> 
     <li>单引号 ' '：禁用扩展，即便 $ 也视为普通字符 </li> 
     <li>反撇号 ` `：将命令的执行输出作为变量值 </li> 
    </ul> 
   </div> 
  </div>  
 
</body></html>